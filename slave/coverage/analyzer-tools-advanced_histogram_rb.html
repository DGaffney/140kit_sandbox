<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang='en' xml:lang='en' xmlns='http://www.w3.org/1999/xhtml'><head><title>analyzer/tools/advanced_histogram.rb - Bogo-profile information</title>
    <style type='text/css'>body { background-color: rgb(179,205,255); }</style>
    <style type='text/css'>span.cross-ref-title {
 font-size: 140%;
}
span.cross-ref a {
 text-decoration: none;
}
span.cross-ref {
 background-color:#f3f7fa;
 border: 1px dashed #333;
 margin: 1em;
 padding: 0.5em;
 overflow: hidden;
}
a.crossref-toggle {
 text-decoration: none;
}
span.marked0 {
 background-color: rgb(185, 210, 200);
 display: block;
}
span.marked1 {
 background-color: rgb(190, 215, 205);
 display: block;
}
span.inferred0 {
 background-color: rgb(255, 255, 240);
 display: block;
}
span.inferred1 {
 background-color: rgb(255, 255, 240);
 display: block;
}
span.uncovered0 {
 background-color: rgb(225, 110, 110);
 display: block;
}
span.uncovered1 {
 background-color: rgb(235, 120, 120);
 display: block;
}
span.overview {
 border-bottom: 8px solid black;
}
div.overview {
 border-bottom: 8px solid black;
}
body {
 font-family: verdana, arial, helvetica;
}
div.footer {
 font-size: 68%;
 margin-top: 1.5em;
}
h1, h2, h3, h4, h5, h6 {
 margin-bottom: 0.5em;
}
h5 {
 margin-top: 0.5em;
}
.hidden {
 display: none;
}
div.separator {
 height: 10px;
}
/* Commented out for better readability, esp. on IE */
/*
table tr td, table tr th {
 font-size: 68%;
}
td.value table tr td {
 font-size: 11px;
}
*/
table.percent_graph {
 height: 12px;
 border: #808080 1px solid;
 empty-cells: show;
}
table.percent_graph td.covered {
 height: 10px;
 background: #00f000;
}
table.percent_graph td.uncovered {
 height: 10px;
 background: #e00000;
}
table.percent_graph td.NA {
 height: 10px;
 background: #eaeaea;
}
table.report {
 border-collapse: collapse;
 width: 100%;
}
table.report td.heading {
 background: #dcecff;
 border: #d0d0d0 1px solid;
 font-weight: bold;
 text-align: center;
}
table.report td.heading:hover {
 background: #c0ffc0;
}
table.report td.text {
 border: #d0d0d0 1px solid;
}
table.report td.value,
table.report td.lines_total,
table.report td.lines_code {
 text-align: right;
 border: #d0d0d0 1px solid;
}
table.report tr.light {
 background-color: rgb(240, 240, 245);
}
table.report tr.dark {
 background-color: rgb(230, 230, 235);
}
</style>
    <script type='text/javascript'>
// <![CDATA[
  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;

    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }

  // Make cross-references hidden by default
  document.writeln( "<style type=\"text/css\">span.cross-ref { display: none }</style>" )
  // ]]>
</script>
    <style type='text/css'>span.run0 {
  background-color: rgb(178, 204, 255);
  display: block;
}
span.run1 {
  background-color: rgb(178, 206, 255);
  display: block;
}
span.run2 {
  background-color: rgb(178, 209, 255);
  display: block;
}
span.run3 {
  background-color: rgb(178, 211, 255);
  display: block;
}
span.run4 {
  background-color: rgb(178, 214, 255);
  display: block;
}
span.run5 {
  background-color: rgb(178, 218, 255);
  display: block;
}
span.run6 {
  background-color: rgb(178, 220, 255);
  display: block;
}
span.run7 {
  background-color: rgb(178, 223, 255);
  display: block;
}
span.run8 {
  background-color: rgb(178, 225, 255);
  display: block;
}
span.run9 {
  background-color: rgb(178, 228, 255);
  display: block;
}
span.run10 {
  background-color: rgb(178, 232, 255);
  display: block;
}
span.run11 {
  background-color: rgb(178, 234, 255);
  display: block;
}
span.run12 {
  background-color: rgb(178, 237, 255);
  display: block;
}
span.run13 {
  background-color: rgb(178, 239, 255);
  display: block;
}
span.run14 {
  background-color: rgb(178, 242, 255);
  display: block;
}
span.run15 {
  background-color: rgb(178, 246, 255);
  display: block;
}
span.run16 {
  background-color: rgb(178, 248, 255);
  display: block;
}
span.run17 {
  background-color: rgb(178, 251, 255);
  display: block;
}
span.run18 {
  background-color: rgb(178, 253, 255);
  display: block;
}
span.run19 {
  background-color: rgb(178, 255, 253);
  display: block;
}
span.run20 {
  background-color: rgb(178, 255, 249);
  display: block;
}
span.run21 {
  background-color: rgb(178, 255, 247);
  display: block;
}
span.run22 {
  background-color: rgb(178, 255, 244);
  display: block;
}
span.run23 {
  background-color: rgb(178, 255, 242);
  display: block;
}
span.run24 {
  background-color: rgb(178, 255, 239);
  display: block;
}
span.run25 {
  background-color: rgb(178, 255, 235);
  display: block;
}
span.run26 {
  background-color: rgb(178, 255, 233);
  display: block;
}
span.run27 {
  background-color: rgb(178, 255, 230);
  display: block;
}
span.run28 {
  background-color: rgb(178, 255, 228);
  display: block;
}
span.run29 {
  background-color: rgb(178, 255, 225);
  display: block;
}
span.run30 {
  background-color: rgb(178, 255, 221);
  display: block;
}
span.run31 {
  background-color: rgb(178, 255, 219);
  display: block;
}
span.run32 {
  background-color: rgb(178, 255, 216);
  display: block;
}
span.run33 {
  background-color: rgb(178, 255, 214);
  display: block;
}
span.run34 {
  background-color: rgb(178, 255, 211);
  display: block;
}
span.run35 {
  background-color: rgb(178, 255, 207);
  display: block;
}
span.run36 {
  background-color: rgb(178, 255, 205);
  display: block;
}
span.run37 {
  background-color: rgb(178, 255, 202);
  display: block;
}
span.run38 {
  background-color: rgb(178, 255, 200);
  display: block;
}
span.run39 {
  background-color: rgb(178, 255, 197);
  display: block;
}
span.run40 {
  background-color: rgb(178, 255, 193);
  display: block;
}
span.run41 {
  background-color: rgb(178, 255, 191);
  display: block;
}
span.run42 {
  background-color: rgb(178, 255, 188);
  display: block;
}
span.run43 {
  background-color: rgb(178, 255, 186);
  display: block;
}
span.run44 {
  background-color: rgb(178, 255, 183);
  display: block;
}
span.run45 {
  background-color: rgb(178, 255, 179);
  display: block;
}
span.run46 {
  background-color: rgb(179, 255, 178);
  display: block;
}
span.run47 {
  background-color: rgb(182, 255, 178);
  display: block;
}
span.run48 {
  background-color: rgb(184, 255, 178);
  display: block;
}
span.run49 {
  background-color: rgb(187, 255, 178);
  display: block;
}
span.run50 {
  background-color: rgb(191, 255, 178);
  display: block;
}
span.run51 {
  background-color: rgb(193, 255, 178);
  display: block;
}
span.run52 {
  background-color: rgb(196, 255, 178);
  display: block;
}
span.run53 {
  background-color: rgb(198, 255, 178);
  display: block;
}
span.run54 {
  background-color: rgb(201, 255, 178);
  display: block;
}
span.run55 {
  background-color: rgb(205, 255, 178);
  display: block;
}
span.run56 {
  background-color: rgb(207, 255, 178);
  display: block;
}
span.run57 {
  background-color: rgb(210, 255, 178);
  display: block;
}
span.run58 {
  background-color: rgb(212, 255, 178);
  display: block;
}
span.run59 {
  background-color: rgb(215, 255, 178);
  display: block;
}
span.run60 {
  background-color: rgb(219, 255, 178);
  display: block;
}
span.run61 {
  background-color: rgb(221, 255, 178);
  display: block;
}
span.run62 {
  background-color: rgb(224, 255, 178);
  display: block;
}
span.run63 {
  background-color: rgb(226, 255, 178);
  display: block;
}
span.run64 {
  background-color: rgb(229, 255, 178);
  display: block;
}
span.run65 {
  background-color: rgb(233, 255, 178);
  display: block;
}
span.run66 {
  background-color: rgb(235, 255, 178);
  display: block;
}
span.run67 {
  background-color: rgb(238, 255, 178);
  display: block;
}
span.run68 {
  background-color: rgb(240, 255, 178);
  display: block;
}
span.run69 {
  background-color: rgb(243, 255, 178);
  display: block;
}
span.run70 {
  background-color: rgb(247, 255, 178);
  display: block;
}
span.run71 {
  background-color: rgb(249, 255, 178);
  display: block;
}
span.run72 {
  background-color: rgb(252, 255, 178);
  display: block;
}
span.run73 {
  background-color: rgb(255, 255, 178);
  display: block;
}
span.run74 {
  background-color: rgb(255, 252, 178);
  display: block;
}
span.run75 {
  background-color: rgb(255, 248, 178);
  display: block;
}
span.run76 {
  background-color: rgb(255, 246, 178);
  display: block;
}
span.run77 {
  background-color: rgb(255, 243, 178);
  display: block;
}
span.run78 {
  background-color: rgb(255, 240, 178);
  display: block;
}
span.run79 {
  background-color: rgb(255, 238, 178);
  display: block;
}
span.run80 {
  background-color: rgb(255, 234, 178);
  display: block;
}
span.run81 {
  background-color: rgb(255, 232, 178);
  display: block;
}
span.run82 {
  background-color: rgb(255, 229, 178);
  display: block;
}
span.run83 {
  background-color: rgb(255, 226, 178);
  display: block;
}
span.run84 {
  background-color: rgb(255, 224, 178);
  display: block;
}
span.run85 {
  background-color: rgb(255, 220, 178);
  display: block;
}
span.run86 {
  background-color: rgb(255, 218, 178);
  display: block;
}
span.run87 {
  background-color: rgb(255, 215, 178);
  display: block;
}
span.run88 {
  background-color: rgb(255, 212, 178);
  display: block;
}
span.run89 {
  background-color: rgb(255, 210, 178);
  display: block;
}
span.run90 {
  background-color: rgb(255, 206, 178);
  display: block;
}
span.run91 {
  background-color: rgb(255, 204, 178);
  display: block;
}
span.run92 {
  background-color: rgb(255, 201, 178);
  display: block;
}
span.run93 {
  background-color: rgb(255, 198, 178);
  display: block;
}
span.run94 {
  background-color: rgb(255, 196, 178);
  display: block;
}
span.run95 {
  background-color: rgb(255, 192, 178);
  display: block;
}
span.run96 {
  background-color: rgb(255, 189, 178);
  display: block;
}
span.run97 {
  background-color: rgb(255, 187, 178);
  display: block;
}
span.run98 {
  background-color: rgb(255, 184, 178);
  display: block;
}
span.run99 {
  background-color: rgb(255, 182, 178);
  display: block;
}
span.run100 {
  background-color: rgb(255, 178, 178);
  display: block;
}
</style>
    </head>
  <body><h3>Bogo-profile information</h3>
    <p>Generated on Mon Jun 20 12:13:58 -0400 2011 with <a href='http://github.com/spicycode/rcov'>rcov 0.8.2.1</a>
      </p>
    <hr/>
    <table class='report'><thead><tr><td class='heading'>Name</td>
      <td class='heading'>Total lines</td>
      <td class='heading'>Lines of code</td>
      <td class='heading'>Total coverage</td>
      <td class='heading'>Code coverage</td>
      </tr>
    </thead>
  <tbody><tr class='light'><td><a href='analyzer-tools-advanced_histogram_rb.html'>analyzer/tools/advanced_histogram.rb</a>
        </td>
      <td class='lines_total'><tt>306</tt>
        </td>
      <td class='lines_code'><tt>296</tt>
        </td>
      <td><table cellspacing='0' align='right' cellpadding='0'><tr><td><tt class='coverage_total'>97.7%</tt>
              &nbsp;</td>
            <td><table class='percent_graph' cellspacing='0' cellpadding='0' width='100'><tr><td class='covered' width='98'/>
                  <td class='uncovered' width='2'/>
                  </tr>
                </table>
              </td>
            </tr>
          </table>
        </td>
      <td><table cellspacing='0' align='right' cellpadding='0'><tr><td><tt class='coverage_code'>97.6%</tt>
              &nbsp;</td>
            <td><table class='percent_graph' cellspacing='0' cellpadding='0' width='100'><tr><td class='covered' width='98'/>
                  <td class='uncovered' width='2'/>
                  </tr>
                </table>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </tbody>
  </table>
<pre><span class="run47"><a name="line1"></a>  1 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-516'); return false;">class AdvancedHistogram &lt; AnalysisMetadata</a><span class="cross-ref" id="XREF-516">
<span class="cross-ref-title">class AdvancedHistogram &lt; AnalysisMetadata</span>
      1   DataMapper::Validations::ClassMethods#inherited at /Library/Ruby/Gems/1.8/gems/dm-validations-1.0.2/lib/dm-validations.rb:177
</span>
</span><a name="line2"></a>  2 
<span class="run42"><a name="line3"></a>  3   DEFAULT_CHUNK_SIZE = 10000
</span><a name="line4"></a>  4   
<a name="line5"></a>  5   #Results: Frequency Charts of basic data on Tweets and Users per data set
<span class="run47"><a name="line6"></a>  6 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-517'); return false;">  def self.run(curation_id)</a><span class="cross-ref" id="XREF-517">
<span class="cross-ref-title">  def self.run(curation_id)</span>
      1   #&lt;Class:AnalysisMetadata&gt;#singleton_method_added at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/support/hook.rb:53
<span class="cross-ref-title">  def self.run(curation_id)</span>
      1   spec/unit/analyzer/tools/advanced_histogram_spec.rb:13 in '#'
</span>
</span><span class="run42"><a name="line7"></a>  7 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-518'); return false;">    curation = Curation.first(:id =&gt; curation_id)</a><span class="cross-ref" id="XREF-518">
<span class="cross-ref-title">    curation = Curation.first(:id =&gt; curation_id)</span>
      1   DataMapper::Model#first at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:364
</span>
<a name="line8"></a>  8 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-519'); return false;">    FilePathing.tmp_folder(curation, AdvancedHistogram.underscore)</a><span class="cross-ref" id="XREF-519">
<span class="cross-ref-title">    FilePathing.tmp_folder(curation, AdvancedHistogram.underscore)</span>
<a href="model_rb.html#line12">      1   Locking::ClassMethods#underscore at model.rb:12</a>
<a href="analyzer-library_functions-file_pathing_rb.html#line3">      1   #&lt;Class:FilePathing&gt;#tmp_folder at analyzer/library_functions/file_pathing.rb:3</a>
</span>
<a name="line9"></a>  9     path=ENV['TMP_PATH']
<a name="line10"></a> 10     sequential_tweet_graphs = []
</span><a name="line11"></a> 11     #can be run sequentially
<span class="run42"><a name="line12"></a> 12 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-520'); return false;">    sequential_tweet_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;hashtag_count_retweet_count&quot;)</a><span class="cross-ref" id="XREF-520">
<span class="cross-ref-title">    sequential_tweet_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;hashtag_count_retweet_count&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line13"></a> 13 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-521'); return false;">    sequential_tweet_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;link_count_retweet_count&quot;)</a><span class="cross-ref" id="XREF-521">
<span class="cross-ref-title">    sequential_tweet_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;link_count_retweet_count&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line14"></a> 14 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-522'); return false;">    sequential_tweet_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;mention_count_retweet_count&quot;)</a><span class="cross-ref" id="XREF-522">
<span class="cross-ref-title">    sequential_tweet_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;mention_count_retweet_count&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line15"></a> 15 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-523'); return false;">    sequential_tweet_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;entity_count_retweet_count&quot;)</a><span class="cross-ref" id="XREF-523">
<span class="cross-ref-title">    sequential_tweet_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;entity_count_retweet_count&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line16"></a> 16 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-524'); return false;">    sequential_tweet_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;source_retweet_counts&quot;)</a><span class="cross-ref" id="XREF-524">
<span class="cross-ref-title">    sequential_tweet_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;source_retweet_counts&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line17"></a> 17 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-525'); return false;">    sequential_tweet_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;source_link_count&quot;)</a><span class="cross-ref" id="XREF-525">
<span class="cross-ref-title">    sequential_tweet_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;source_link_count&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line18"></a> 18 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-526'); return false;">    sequential_tweet_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;source_mention_count&quot;)</a><span class="cross-ref" id="XREF-526">
<span class="cross-ref-title">    sequential_tweet_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;source_mention_count&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line19"></a> 19 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-527'); return false;">    sequential_tweet_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;source_entity_count&quot;)</a><span class="cross-ref" id="XREF-527">
<span class="cross-ref-title">    sequential_tweet_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;source_entity_count&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
</span><span class="run57"><a name="line20"></a> 20 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-528'); return false;">    sequential_tweet_graph_csvs = sequential_tweet_graphs.collect{|graph| FasterCSV.open(path+&quot;/&quot;+graph.title+&quot;.csv&quot;, &quot;w&quot;)}</a><span class="cross-ref" id="XREF-528">
<span class="cross-ref-title">    sequential_tweet_graph_csvs = sequential_tweet_graphs.collect{|graph| FasterCSV.open(path+&quot;/&quot;+graph.title+&quot;.csv&quot;, &quot;w&quot;)}</span>
      8   #&lt;Module:0x103d5f828&gt;#title at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      8   #&lt;Class:FasterCSV&gt;#open at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1211
</span>
<a name="line21"></a> 21     sequential_tweet_graph_initialized = sequential_tweet_graphs.collect{|graph| true}
</span><span class="run42"><a name="line22"></a> 22 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-529'); return false;">    conditional = Analysis.curation_conditional(curation)</a><span class="cross-ref" id="XREF-529">
<span class="cross-ref-title">    conditional = Analysis.curation_conditional(curation)</span>
<a href="analyzer-analysis_rb.html#line60">      1   #&lt;Class:Analysis&gt;#curation_conditional at analyzer/analysis.rb:60</a>
</span>
<a name="line23"></a> 23 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-530'); return false;">    AdvancedHistogram.initialize_graphs(sequential_tweet_graphs, sequential_tweet_graph_csvs)</a><span class="cross-ref" id="XREF-530">
<span class="cross-ref-title">    AdvancedHistogram.initialize_graphs(sequential_tweet_graphs, sequential_tweet_graph_csvs)</span>
<a href="analyzer-tools-advanced_histogram_rb.html#line234">      1   #&lt;Class:AdvancedHistogram&gt;#initialize_graphs at analyzer/tools/advanced_histogram.rb:234</a>
</span>
<a name="line24"></a> 24     full_entity_matched_query = lambda{|conditional, limit, offset| 
</span><a name="line25"></a> 25       &quot;select tweets.*,count(distinct entities_l.id) as links_count,count(distinct entities_m.id) as mentions_count,count(distinct entities_h.id) as hashtag_count,count(distinct entities_a.id) as all_entities_count
<a name="line26"></a> 26       from tweets 
<a name="line27"></a> 27       left join entities as entities_l on entities_l.twitter_id = tweets.twitter_id and entities_l.name='url' 
<a name="line28"></a> 28       left join entities as entities_m on entities_m.twitter_id = tweets.twitter_id and entities_m.name='user_mention_screen_name' 
<a name="line29"></a> 29       left join entities as entities_h on entities_h.twitter_id = tweets.twitter_id and entities_h.name='hashtag'
<a name="line30"></a> 30       left join entities as entities_a on entities_a.twitter_id = tweets.twitter_id and entities_a.name in ('url', 'user_mention_screen_name', 'hashtag')
<span class="run47"><a name="line31"></a> 31 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-531'); return false;">      where #{Analysis.conditions_to_mysql_query(conditional).gsub(&quot;dataset_id&quot;,&quot;tweets.dataset_id&quot;)} group by tweets.id limit #{limit} offset #{offset}&quot;</a><span class="cross-ref" id="XREF-531">
<span class="cross-ref-title">      where #{Analysis.conditions_to_mysql_query(conditional).gsub(&quot;dataset_id&quot;,&quot;tweets.dataset_id&quot;)} group by tweets.id limit #{limit} offset #{offset}&quot;</span>
<a href="analyzer-analysis_rb.html#line20">      2   #&lt;Class:Analysis&gt;#conditions_to_mysql_query at analyzer/analysis.rb:20</a>
</span>
</span><a name="line32"></a> 32     }
<span class="run42"><a name="line33"></a> 33     limit = DEFAULT_CHUNK_SIZE
<a name="line34"></a> 34     offset = 0
<a name="line35"></a> 35 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-532'); return false;">    records = DataMapper.repository.adapter.select(full_entity_matched_query.call(conditional, limit, offset))</a><span class="cross-ref" id="XREF-532">
<span class="cross-ref-title">    records = DataMapper.repository.adapter.select(full_entity_matched_query.call(conditional, limit, offset))</span>
      1   DataMapper::Repository#adapter at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/repository.rb:64
      1   DataMapper::Adapters::DataObjectsAdapter#select at /Library/Ruby/Gems/1.8/gems/dm-do-adapter-1.0.2/lib/dm-do-adapter/adapter.rb:32
      1   #&lt;Class:DataMapper&gt;#repository at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core.rb:285
</span>
<a name="line36"></a> 36     while !records.empty?
<a name="line37"></a> 37       sequential_tweet_graphs.each do |sequential_tweet_graph|
</span><span class="run57"><a name="line38"></a> 38 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-533'); return false;">        csv = sequential_tweet_graph_csvs[sequential_tweet_graphs.index(sequential_tweet_graph)]</a><span class="cross-ref" id="XREF-533">
<span class="cross-ref-title">        csv = sequential_tweet_graph_csvs[sequential_tweet_graphs.index(sequential_tweet_graph)]</span>
     28   DataMapper::Resource#== at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/resource.rb:493
</span>
<a name="line39"></a> 39 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-534'); return false;">        case sequential_tweet_graph.title</a><span class="cross-ref" id="XREF-534">
<span class="cross-ref-title">        case sequential_tweet_graph.title</span>
      8   #&lt;Module:0x103d5f828&gt;#title at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
</span>
<a name="line40"></a> 40         when &quot;hashtag_count_retweet_count&quot;
</span><span class="run64"><a name="line41"></a> 41 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-535'); return false;">          records.collect{|record| csv &lt;&lt; [record.hashtag_count, record.retweet_count]}</a><span class="cross-ref" id="XREF-535">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.hashtag_count, record.retweet_count]}</span>
     22   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line42"></a> 42 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-536'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.hashtag_count, :value =&gt; record.retweet_count, :graph_id =&gt; sequential_tweet_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-536">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.hashtag_count, :value =&gt; record.retweet_count, :graph_id =&gt; sequential_tweet_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     22   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     22   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     22   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run56"><a name="line43"></a> 43         when &quot;link_count_retweet_count&quot;
</span><span class="run64"><a name="line44"></a> 44 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-537'); return false;">          records.collect{|record| csv &lt;&lt; [record.links_count, record.retweet_count]}</a><span class="cross-ref" id="XREF-537">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.links_count, record.retweet_count]}</span>
     22   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line45"></a> 45 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-538'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.links_count, :value =&gt; record.retweet_count, :graph_id =&gt; sequential_tweet_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-538">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.links_count, :value =&gt; record.retweet_count, :graph_id =&gt; sequential_tweet_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     22   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     22   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     22   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run55"><a name="line46"></a> 46         when &quot;mention_count_retweet_count&quot;
</span><span class="run64"><a name="line47"></a> 47 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-539'); return false;">          records.collect{|record| csv &lt;&lt; [record.mentions_count, record.retweet_count]}</a><span class="cross-ref" id="XREF-539">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.mentions_count, record.retweet_count]}</span>
     22   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line48"></a> 48 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-540'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.mentions_count, :value =&gt; record.retweet_count, :graph_id =&gt; sequential_tweet_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-540">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.mentions_count, :value =&gt; record.retweet_count, :graph_id =&gt; sequential_tweet_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     22   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     22   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     22   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run53"><a name="line49"></a> 49         when &quot;entity_count_retweet_count&quot;
</span><span class="run64"><a name="line50"></a> 50 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-541'); return false;">          records.collect{|record| csv &lt;&lt; [record.all_entities_count, record.retweet_count]}          </a><span class="cross-ref" id="XREF-541">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.all_entities_count, record.retweet_count]}          </span>
     22   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line51"></a> 51 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-542'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.all_entities_count, :value =&gt; record.retweet_count, :graph_id =&gt; sequential_tweet_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-542">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.all_entities_count, :value =&gt; record.retweet_count, :graph_id =&gt; sequential_tweet_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     22   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     22   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     22   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run52"><a name="line52"></a> 52         when &quot;source_retweet_counts&quot;
</span><span class="run64"><a name="line53"></a> 53 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-543'); return false;">          records.collect{|record| csv &lt;&lt; [record.source, record.retweet_count]}</a><span class="cross-ref" id="XREF-543">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.source, record.retweet_count]}</span>
     22   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line54"></a> 54 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-544'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.source, :value =&gt; record.retweet_count, :graph_id =&gt; sequential_tweet_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-544">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.source, :value =&gt; record.retweet_count, :graph_id =&gt; sequential_tweet_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     22   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     22   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     22   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run50"><a name="line55"></a> 55         when &quot;source_link_count&quot;
</span><span class="run64"><a name="line56"></a> 56 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-545'); return false;">          records.collect{|record| csv &lt;&lt; [record.source, record.links_count]}</a><span class="cross-ref" id="XREF-545">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.source, record.links_count]}</span>
     22   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line57"></a> 57 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-546'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.source, :value =&gt; record.links_count, :graph_id =&gt; sequential_tweet_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-546">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.source, :value =&gt; record.links_count, :graph_id =&gt; sequential_tweet_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     22   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     22   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     22   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run47"><a name="line58"></a> 58         when &quot;source_mention_count&quot;
</span><span class="run64"><a name="line59"></a> 59 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-547'); return false;">          records.collect{|record| csv &lt;&lt; [record.source, record.mentions_count]}</a><span class="cross-ref" id="XREF-547">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.source, record.mentions_count]}</span>
     22   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line60"></a> 60 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-548'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.source, :value =&gt; record.mentions_count, :graph_id =&gt; sequential_tweet_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-548">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.source, :value =&gt; record.mentions_count, :graph_id =&gt; sequential_tweet_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     22   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     22   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     22   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run42"><a name="line61"></a> 61         when &quot;source_entity_count&quot;
</span><span class="run64"><a name="line62"></a> 62 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-549'); return false;">          records.collect{|record| csv &lt;&lt; [record.source, record.all_entities_count]}</a><span class="cross-ref" id="XREF-549">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.source, record.all_entities_count]}</span>
     22   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line63"></a> 63 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-550'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.source, :value =&gt; record.all_entities_count, :graph_id =&gt; sequential_tweet_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-550">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.source, :value =&gt; record.all_entities_count, :graph_id =&gt; sequential_tweet_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     22   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     22   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     22   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><a name="line64"></a> 64         end
<a name="line65"></a> 65       end
<span class="run42"><a name="line66"></a> 66       offset+=limit
<a name="line67"></a> 67 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-551'); return false;">      records = DataMapper.repository.adapter.select(full_entity_matched_query.call(conditional, limit, offset))</a><span class="cross-ref" id="XREF-551">
<span class="cross-ref-title">      records = DataMapper.repository.adapter.select(full_entity_matched_query.call(conditional, limit, offset))</span>
      1   DataMapper::Repository#adapter at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/repository.rb:64
      1   DataMapper::Adapters::DataObjectsAdapter#select at /Library/Ruby/Gems/1.8/gems/dm-do-adapter-1.0.2/lib/dm-do-adapter/adapter.rb:32
      1   #&lt;Class:DataMapper&gt;#repository at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core.rb:285
</span>
</span><a name="line68"></a> 68     end
<span class="run57"><a name="line69"></a> 69 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-552'); return false;">    sequential_tweet_graph_csvs.collect{|csv| csv.close}</a><span class="cross-ref" id="XREF-552">
<span class="cross-ref-title">    sequential_tweet_graph_csvs.collect{|csv| csv.close}</span>
      8   FasterCSV#close at (__FORWARDABLE__):1
</span>
</span><span class="run42"><a name="line70"></a> 70     limit = DEFAULT_CHUNK_SIZE
<a name="line71"></a> 71 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-553'); return false;">    curation = Curation.first(:id =&gt; curation_id)</a><span class="cross-ref" id="XREF-553">
<span class="cross-ref-title">    curation = Curation.first(:id =&gt; curation_id)</span>
      1   DataMapper::Model#first at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:364
</span>
<a name="line72"></a> 72 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-554'); return false;">    conditional = Analysis.curation_conditional(curation)</a><span class="cross-ref" id="XREF-554">
<span class="cross-ref-title">    conditional = Analysis.curation_conditional(curation)</span>
<a href="analyzer-analysis_rb.html#line60">      1   #&lt;Class:Analysis&gt;#curation_conditional at analyzer/analysis.rb:60</a>
</span>
<a name="line73"></a> 73 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-555'); return false;">    FilePathing.tmp_folder(curation, AdvancedHistogram.underscore)</a><span class="cross-ref" id="XREF-555">
<span class="cross-ref-title">    FilePathing.tmp_folder(curation, AdvancedHistogram.underscore)</span>
<a href="model_rb.html#line12">      1   Locking::ClassMethods#underscore at model.rb:12</a>
<a href="analyzer-library_functions-file_pathing_rb.html#line3">      1   #&lt;Class:FilePathing&gt;#tmp_folder at analyzer/library_functions/file_pathing.rb:3</a>
</span>
<a name="line74"></a> 74     path=ENV['TMP_PATH']
</span><a name="line75"></a> 75     #need to be run on their own
<span class="run42"><a name="line76"></a> 76 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-556'); return false;">    tweets_per_minute                    = Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;tweets_per_minute&quot;)</a><span class="cross-ref" id="XREF-556">
<span class="cross-ref-title">    tweets_per_minute                    = Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;tweets_per_minute&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line77"></a> 77 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-557'); return false;">    retweets_per_minute                  = Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;retweets_per_minute&quot;)</a><span class="cross-ref" id="XREF-557">
<span class="cross-ref-title">    retweets_per_minute                  = Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;retweets_per_minute&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line78"></a> 78 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-558'); return false;">    tweets_per_minute_csv = FasterCSV.open(path+&quot;/&quot;+tweets_per_minute.title+&quot;.csv&quot;, &quot;w&quot;)</a><span class="cross-ref" id="XREF-558">
<span class="cross-ref-title">    tweets_per_minute_csv = FasterCSV.open(path+&quot;/&quot;+tweets_per_minute.title+&quot;.csv&quot;, &quot;w&quot;)</span>
      1   #&lt;Module:0x103d5f828&gt;#title at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      1   #&lt;Class:FasterCSV&gt;#open at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1211
</span>
<a name="line79"></a> 79 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-559'); return false;">    retweets_per_minute_csv = FasterCSV.open(path+&quot;/&quot;+retweets_per_minute.title+&quot;.csv&quot;, &quot;w&quot;)</a><span class="cross-ref" id="XREF-559">
<span class="cross-ref-title">    retweets_per_minute_csv = FasterCSV.open(path+&quot;/&quot;+retweets_per_minute.title+&quot;.csv&quot;, &quot;w&quot;)</span>
      1   #&lt;Module:0x103d5f828&gt;#title at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      1   #&lt;Class:FasterCSV&gt;#open at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1211
</span>
<a name="line80"></a> 80 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-560'); return false;">    tweets_per_minute_csv &lt;&lt; [&quot;created_at&quot;, &quot;tweet_count&quot;]</a><span class="cross-ref" id="XREF-560">
<span class="cross-ref-title">    tweets_per_minute_csv &lt;&lt; [&quot;created_at&quot;, &quot;tweet_count&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line81"></a> 81 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-561'); return false;">    retweets_per_minute_csv &lt;&lt; [&quot;created_at&quot;, &quot;retweet_count&quot;]</a><span class="cross-ref" id="XREF-561">
<span class="cross-ref-title">    retweets_per_minute_csv &lt;&lt; [&quot;created_at&quot;, &quot;retweet_count&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line82"></a> 82     time_based_tweet_query = &quot;&quot;
<a name="line83"></a> 83 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-562'); return false;">    case DataMapper.repository.adapter.options[&quot;adapter&quot;]</a><span class="cross-ref" id="XREF-562">
<span class="cross-ref-title">    case DataMapper.repository.adapter.options[&quot;adapter&quot;]</span>
      1   DataMapper::Repository#adapter at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/repository.rb:64
      1   #&lt;Class:DataMapper&gt;#repository at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core.rb:285
</span>
<a name="line84"></a> 84     when &quot;mysql&quot;
</span><a name="line85"></a> 85       time_based_tweet_query = lambda{|limit, offset| &quot;select count(*) as tweet_count, sum(retweet_count) as retweet_count, date_format(created_at, '%Y-%m-%d %H:%i') as created_at from tweets group by date_format(created_at, '%Y-%m-%d %H:%i') limit #{limit} offset #{offset};&quot;}
<span class="run42"><a name="line86"></a> 86     when &quot;sqlite3&quot;
</span><span class="run50"><a name="line87"></a> 87       time_based_tweet_query = lambda{|limit, offset| &quot;select count(*) as tweet_count, sum(retweet_count) as retweet_count, strftime('%Y-%m-%d %H:%M', created_at) as created_at from tweets group by strftime('%Y-%m-%d %H:%M', created_at) limit #{limit} offset #{offset};&quot;}
</span><a name="line88"></a> 88     end
<span class="run42"><a name="line89"></a> 89     offset = 0
<a name="line90"></a> 90 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-563'); return false;">    records = DataMapper.repository.adapter.select(time_based_tweet_query.call(limit, offset))</a><span class="cross-ref" id="XREF-563">
<span class="cross-ref-title">    records = DataMapper.repository.adapter.select(time_based_tweet_query.call(limit, offset))</span>
      1   DataMapper::Repository#adapter at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/repository.rb:64
      1   DataMapper::Adapters::DataObjectsAdapter#select at /Library/Ruby/Gems/1.8/gems/dm-do-adapter-1.0.2/lib/dm-do-adapter/adapter.rb:32
      1   #&lt;Class:DataMapper&gt;#repository at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core.rb:285
</span>
<a name="line91"></a> 91     while !records.empty?
</span><span class="run64"><a name="line92"></a> 92 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-564'); return false;">      records.collect{|record| tweets_per_minute_csv &lt;&lt; [record.created_at, record.tweet_count]}</a><span class="cross-ref" id="XREF-564">
<span class="cross-ref-title">      records.collect{|record| tweets_per_minute_csv &lt;&lt; [record.created_at, record.tweet_count]}</span>
     22   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line93"></a> 93 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-565'); return false;">      records.collect{|record| retweets_per_minute_csv &lt;&lt; [record.created_at, record.retweet_count]}</a><span class="cross-ref" id="XREF-565">
<span class="cross-ref-title">      records.collect{|record| retweets_per_minute_csv &lt;&lt; [record.created_at, record.retweet_count]}</span>
     22   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line94"></a> 94 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-566'); return false;">      GraphPoint.save_all(records.collect{|record| {:label =&gt; record.created_at, :value =&gt; record.tweet_count, :graph_id =&gt; tweets_per_minute.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-566">
<span class="cross-ref-title">      GraphPoint.save_all(records.collect{|record| {:label =&gt; record.created_at, :value =&gt; record.tweet_count, :graph_id =&gt; tweets_per_minute.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     22   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     22   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     22   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
<a name="line95"></a> 95 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-567'); return false;">      GraphPoint.save_all(records.collect{|record| {:label =&gt; record.created_at, :value =&gt; record.retweet_count, :graph_id =&gt; retweets_per_minute.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-567">
<span class="cross-ref-title">      GraphPoint.save_all(records.collect{|record| {:label =&gt; record.created_at, :value =&gt; record.retweet_count, :graph_id =&gt; retweets_per_minute.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     22   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     22   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     22   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run42"><a name="line96"></a> 96       offset += limit
<a name="line97"></a> 97 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-568'); return false;">      records = DataMapper.repository.adapter.select(time_based_tweet_query.call(limit, offset))</a><span class="cross-ref" id="XREF-568">
<span class="cross-ref-title">      records = DataMapper.repository.adapter.select(time_based_tweet_query.call(limit, offset))</span>
      1   DataMapper::Repository#adapter at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/repository.rb:64
      1   DataMapper::Adapters::DataObjectsAdapter#select at /Library/Ruby/Gems/1.8/gems/dm-do-adapter-1.0.2/lib/dm-do-adapter/adapter.rb:32
      1   #&lt;Class:DataMapper&gt;#repository at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core.rb:285
</span>
</span><a name="line98"></a> 98     end
<span class="run42"><a name="line99"></a> 99 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-569'); return false;">    tweets_per_minute_csv.close</a><span class="cross-ref" id="XREF-569">
<span class="cross-ref-title">    tweets_per_minute_csv.close</span>
      1   FasterCSV#close at (__FORWARDABLE__):1
</span>
<a name="line100"></a>100 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-570'); return false;">    retweets_per_minute_csv.close</a><span class="cross-ref" id="XREF-570">
<span class="cross-ref-title">    retweets_per_minute_csv.close</span>
      1   FasterCSV#close at (__FORWARDABLE__):1
</span>
<a name="line101"></a>101     limit = DEFAULT_CHUNK_SIZE
<a name="line102"></a>102 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-571'); return false;">    curation = Curation.first(:id =&gt; curation_id)</a><span class="cross-ref" id="XREF-571">
<span class="cross-ref-title">    curation = Curation.first(:id =&gt; curation_id)</span>
      1   DataMapper::Model#first at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:364
</span>
<a name="line103"></a>103 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-572'); return false;">    conditional = Analysis.curation_conditional(curation)</a><span class="cross-ref" id="XREF-572">
<span class="cross-ref-title">    conditional = Analysis.curation_conditional(curation)</span>
<a href="analyzer-analysis_rb.html#line60">      1   #&lt;Class:Analysis&gt;#curation_conditional at analyzer/analysis.rb:60</a>
</span>
<a name="line104"></a>104 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-573'); return false;">    FilePathing.tmp_folder(curation, AdvancedHistogram.underscore)</a><span class="cross-ref" id="XREF-573">
<span class="cross-ref-title">    FilePathing.tmp_folder(curation, AdvancedHistogram.underscore)</span>
<a href="model_rb.html#line12">      1   Locking::ClassMethods#underscore at model.rb:12</a>
<a href="analyzer-library_functions-file_pathing_rb.html#line3">      1   #&lt;Class:FilePathing&gt;#tmp_folder at analyzer/library_functions/file_pathing.rb:3</a>
</span>
<a name="line105"></a>105     path=ENV['TMP_PATH']
</span><a name="line106"></a>106     
<a name="line107"></a>107     #can be run sequentially
<span class="run42"><a name="line108"></a>108     sequential_user_graphs = []
<a name="line109"></a>109 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-574'); return false;">    sequential_user_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;followers_count_friends_count&quot;)</a><span class="cross-ref" id="XREF-574">
<span class="cross-ref-title">    sequential_user_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;followers_count_friends_count&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line110"></a>110 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-575'); return false;">    sequential_user_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;followers_count_statuses_count&quot;)</a><span class="cross-ref" id="XREF-575">
<span class="cross-ref-title">    sequential_user_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;followers_count_statuses_count&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line111"></a>111 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-576'); return false;">    sequential_user_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;friends_count_statuses_count&quot;)</a><span class="cross-ref" id="XREF-576">
<span class="cross-ref-title">    sequential_user_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;friends_count_statuses_count&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line112"></a>112 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-577'); return false;">    sequential_user_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;followers_per_day&quot;)</a><span class="cross-ref" id="XREF-577">
<span class="cross-ref-title">    sequential_user_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;followers_per_day&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line113"></a>113 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-578'); return false;">    sequential_user_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;friends_per_day&quot;)</a><span class="cross-ref" id="XREF-578">
<span class="cross-ref-title">    sequential_user_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;friends_per_day&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line114"></a>114 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-579'); return false;">    sequential_user_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;statuses_per_day&quot;)</a><span class="cross-ref" id="XREF-579">
<span class="cross-ref-title">    sequential_user_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;statuses_per_day&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line115"></a>115 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-580'); return false;">    sequential_user_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;followers_per_day_avg_friends_per_day_avg&quot;)</a><span class="cross-ref" id="XREF-580">
<span class="cross-ref-title">    sequential_user_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;followers_per_day_avg_friends_per_day_avg&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line116"></a>116 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-581'); return false;">    sequential_user_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;followers_per_day_avg_statuses_per_day_avg&quot;)</a><span class="cross-ref" id="XREF-581">
<span class="cross-ref-title">    sequential_user_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;followers_per_day_avg_statuses_per_day_avg&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line117"></a>117 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-582'); return false;">    sequential_user_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;friends_per_day_avg_statuses_per_day_avg&quot;)</a><span class="cross-ref" id="XREF-582">
<span class="cross-ref-title">    sequential_user_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;friends_per_day_avg_statuses_per_day_avg&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
</span><span class="run58"><a name="line118"></a>118 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-583'); return false;">    sequential_user_graph_csvs = sequential_user_graphs.collect{|graph| FasterCSV.open(path+&quot;/&quot;+graph.title+&quot;.csv&quot;, &quot;w&quot;)}</a><span class="cross-ref" id="XREF-583">
<span class="cross-ref-title">    sequential_user_graph_csvs = sequential_user_graphs.collect{|graph| FasterCSV.open(path+&quot;/&quot;+graph.title+&quot;.csv&quot;, &quot;w&quot;)}</span>
      9   #&lt;Module:0x103d5f828&gt;#title at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      9   #&lt;Class:FasterCSV&gt;#open at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1211
</span>
</span><span class="run42"><a name="line119"></a>119 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-584'); return false;">    AdvancedHistogram.initialize_graphs(sequential_user_graphs, sequential_user_graph_csvs)</a><span class="cross-ref" id="XREF-584">
<span class="cross-ref-title">    AdvancedHistogram.initialize_graphs(sequential_user_graphs, sequential_user_graph_csvs)</span>
<a href="analyzer-tools-advanced_histogram_rb.html#line234">      1   #&lt;Class:AdvancedHistogram&gt;#initialize_graphs at analyzer/tools/advanced_histogram.rb:234</a>
</span>
</span><a name="line120"></a>120 
<span class="run42"><a name="line121"></a>121     offset = 0
<a name="line122"></a>122 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-585'); return false;">    records = User.all(conditional.merge({:limit =&gt; limit, :offset =&gt; offset}))</a><span class="cross-ref" id="XREF-585">
<span class="cross-ref-title">    records = User.all(conditional.merge({:limit =&gt; limit, :offset =&gt; offset}))</span>
      1   DataMapper::Model#all at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:338
</span>
<a name="line123"></a>123 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-586'); return false;">    while !records.empty?</a><span class="cross-ref" id="XREF-586">
<span class="cross-ref-title">    while !records.empty?</span>
      2   LazyArray#empty? at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/support/lazy_array.rb:86
</span>
<a name="line124"></a>124       sequential_user_graphs.each do |sequential_user_graph|
</span><span class="run57"><a name="line125"></a>125 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-587'); return false;">        csv = sequential_user_graph_csvs[sequential_user_graphs.index(sequential_user_graph)]</a><span class="cross-ref" id="XREF-587">
<span class="cross-ref-title">        csv = sequential_user_graph_csvs[sequential_user_graphs.index(sequential_user_graph)]</span>
     36   DataMapper::Resource#== at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/resource.rb:493
</span>
<a name="line126"></a>126 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-588'); return false;">        case sequential_user_graph.title</a><span class="cross-ref" id="XREF-588">
<span class="cross-ref-title">        case sequential_user_graph.title</span>
      9   #&lt;Module:0x103d5f828&gt;#title at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
</span>
<a name="line127"></a>127         when &quot;followers_count_friends_count&quot;
</span><span class="run59"><a name="line128"></a>128 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-589'); return false;">          records.collect{|record| csv &lt;&lt; [record.followers_count, record.friends_count]}</a><span class="cross-ref" id="XREF-589">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.followers_count, record.friends_count]}</span>
     10   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
     10   #&lt;Module:0x103bd4e18&gt;#followers_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103a09d90&gt;#friends_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      1   DataMapper::Collection#each at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/collection.rb:507
</span>
<a name="line129"></a>129 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-590'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.followers_count, :value =&gt; record.friends_count, :graph_id =&gt; sequential_user_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-590">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.followers_count, :value =&gt; record.friends_count, :graph_id =&gt; sequential_user_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     10   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     10   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103a09d90&gt;#friends_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103bd4e18&gt;#followers_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      1   DataMapper::Collection#each at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/collection.rb:507
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run57"><a name="line130"></a>130         when &quot;followers_count_statuses_count&quot;
</span><span class="run59"><a name="line131"></a>131 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-591'); return false;">          records.collect{|record| csv &lt;&lt; [record.followers_count, record.statuses_count]}</a><span class="cross-ref" id="XREF-591">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.followers_count, record.statuses_count]}</span>
     10   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
     10   #&lt;Module:0x103bd4e18&gt;#followers_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103893bc8&gt;#statuses_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      1   DataMapper::Collection#each at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/collection.rb:507
</span>
<a name="line132"></a>132 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-592'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.followers_count, :value =&gt; record.statuses_count, :graph_id =&gt; sequential_user_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-592">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.followers_count, :value =&gt; record.statuses_count, :graph_id =&gt; sequential_user_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     10   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     10   #&lt;Module:0x103893bc8&gt;#statuses_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103bd4e18&gt;#followers_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      1   DataMapper::Collection#each at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/collection.rb:507
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run56"><a name="line133"></a>133         when &quot;friends_count_statuses_count&quot;
</span><span class="run59"><a name="line134"></a>134 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-593'); return false;">          records.collect{|record| csv &lt;&lt; [record.friends_count, record.statuses_count]}</a><span class="cross-ref" id="XREF-593">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.friends_count, record.statuses_count]}</span>
     10   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
     10   #&lt;Module:0x103a09d90&gt;#friends_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103893bc8&gt;#statuses_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      1   DataMapper::Collection#each at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/collection.rb:507
</span>
<a name="line135"></a>135 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-594'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.friends_count, :value =&gt; record.statuses_count, :graph_id =&gt; sequential_user_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-594">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.friends_count, :value =&gt; record.statuses_count, :graph_id =&gt; sequential_user_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     10   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     10   #&lt;Module:0x103893bc8&gt;#statuses_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103a09d90&gt;#friends_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      1   DataMapper::Collection#each at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/collection.rb:507
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run55"><a name="line136"></a>136         when &quot;followers_per_day&quot;
</span><span class="run66"><a name="line137"></a>137 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-595'); return false;">          records.collect{|record| csv &lt;&lt; [record.twitter_id, record.followers_count.to_f/((Time.now-record.created_at).to_f/86400.0)]}</a><span class="cross-ref" id="XREF-595">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.twitter_id, record.followers_count.to_f/((Time.now-record.created_at).to_f/86400.0)]}</span>
     10   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
     10   #&lt;Module:0x1039e5d50&gt;#created_at at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103bd4e18&gt;#followers_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103fc8308&gt;#twitter_id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      1   DataMapper::Collection#each at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/collection.rb:507
</span>
<a name="line138"></a>138 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-596'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.twitter_id, :value =&gt; record.followers_count.to_f/((Time.now-record.created_at).to_f/86400.0), :graph_id =&gt; sequential_user_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-596">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.twitter_id, :value =&gt; record.followers_count.to_f/((Time.now-record.created_at).to_f/86400.0), :graph_id =&gt; sequential_user_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     10   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     10   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103fc8308&gt;#twitter_id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x1039e5d50&gt;#created_at at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103bd4e18&gt;#followers_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      1   DataMapper::Collection#each at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/collection.rb:507
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run53"><a name="line139"></a>139         when &quot;friends_per_day&quot;
</span><span class="run66"><a name="line140"></a>140 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-597'); return false;">          records.collect{|record| csv &lt;&lt; [record.twitter_id, record.friends_count.to_f/((Time.now-record.created_at).to_f/86400.0)]}</a><span class="cross-ref" id="XREF-597">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.twitter_id, record.friends_count.to_f/((Time.now-record.created_at).to_f/86400.0)]}</span>
     10   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
     10   #&lt;Module:0x1039e5d50&gt;#created_at at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103a09d90&gt;#friends_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103fc8308&gt;#twitter_id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      1   DataMapper::Collection#each at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/collection.rb:507
</span>
<a name="line141"></a>141 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-598'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.twitter_id, :value =&gt; record.friends_count.to_f/((Time.now-record.created_at).to_f/86400.0), :graph_id =&gt; sequential_user_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-598">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.twitter_id, :value =&gt; record.friends_count.to_f/((Time.now-record.created_at).to_f/86400.0), :graph_id =&gt; sequential_user_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     10   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     10   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103fc8308&gt;#twitter_id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x1039e5d50&gt;#created_at at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103a09d90&gt;#friends_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      1   DataMapper::Collection#each at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/collection.rb:507
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run52"><a name="line142"></a>142         when &quot;statuses_per_day&quot;
</span><span class="run66"><a name="line143"></a>143 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-599'); return false;">          records.collect{|record| csv &lt;&lt; [record.twitter_id, record.statuses_count.to_f/((Time.now-record.created_at).to_f/86400.0)]}</a><span class="cross-ref" id="XREF-599">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.twitter_id, record.statuses_count.to_f/((Time.now-record.created_at).to_f/86400.0)]}</span>
     10   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
     10   #&lt;Module:0x103893bc8&gt;#statuses_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x1039e5d50&gt;#created_at at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103fc8308&gt;#twitter_id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      1   DataMapper::Collection#each at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/collection.rb:507
</span>
<a name="line144"></a>144 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-600'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.twitter_id, :value =&gt; record.statuses_count.to_f/((Time.now-record.created_at).to_f/86400.0), :graph_id =&gt; sequential_user_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-600">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.twitter_id, :value =&gt; record.statuses_count.to_f/((Time.now-record.created_at).to_f/86400.0), :graph_id =&gt; sequential_user_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     10   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     10   #&lt;Module:0x103893bc8&gt;#statuses_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103fc8308&gt;#twitter_id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x1039e5d50&gt;#created_at at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      1   DataMapper::Collection#each at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/collection.rb:507
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run50"><a name="line145"></a>145         when &quot;followers_per_day_avg_friends_per_day_avg&quot;
</span><span class="run70"><a name="line146"></a>146 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-601'); return false;">          records.collect{|record| csv &lt;&lt; [record.followers_count.to_f/((Time.now-record.created_at).to_f/86400.0), record.friends_count.to_f/((Time.now-record.created_at).to_f/86400.0)]}</a><span class="cross-ref" id="XREF-601">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.followers_count.to_f/((Time.now-record.created_at).to_f/86400.0), record.friends_count.to_f/((Time.now-record.created_at).to_f/86400.0)]}</span>
     20   #&lt;Module:0x1039e5d50&gt;#created_at at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103bd4e18&gt;#followers_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
     10   #&lt;Module:0x103a09d90&gt;#friends_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      1   DataMapper::Collection#each at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/collection.rb:507
</span>
<a name="line147"></a>147 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-602'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.followers_count.to_f/((Time.now-record.created_at).to_f/86400.0), :value =&gt; record.friends_count.to_f/((Time.now-record.created_at).to_f/86400.0), :graph_id =&gt; sequential_user_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-602">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.followers_count.to_f/((Time.now-record.created_at).to_f/86400.0), :value =&gt; record.friends_count.to_f/((Time.now-record.created_at).to_f/86400.0), :graph_id =&gt; sequential_user_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
     20   #&lt;Module:0x1039e5d50&gt;#created_at at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">     10   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     10   #&lt;Module:0x103a09d90&gt;#friends_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103bd4e18&gt;#followers_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      1   DataMapper::Collection#each at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/collection.rb:507
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run47"><a name="line148"></a>148         when &quot;followers_per_day_avg_statuses_per_day_avg&quot;
</span><span class="run70"><a name="line149"></a>149 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-603'); return false;">          records.collect{|record| csv &lt;&lt; [record.followers_count.to_f/((Time.now-record.created_at).to_f/86400.0), record.statuses_count.to_f/((Time.now-record.created_at).to_f/86400.0)]}</a><span class="cross-ref" id="XREF-603">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.followers_count.to_f/((Time.now-record.created_at).to_f/86400.0), record.statuses_count.to_f/((Time.now-record.created_at).to_f/86400.0)]}</span>
     20   #&lt;Module:0x1039e5d50&gt;#created_at at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103bd4e18&gt;#followers_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103893bc8&gt;#statuses_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
      1   DataMapper::Collection#each at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/collection.rb:507
</span>
<a name="line150"></a>150 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-604'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.followers_count.to_f/((Time.now-record.created_at)/86400.0), :value =&gt; record.statuses_count.to_f/((Time.now-record.created_at).to_f/86400.0), :graph_id =&gt; sequential_user_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-604">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.followers_count.to_f/((Time.now-record.created_at)/86400.0), :value =&gt; record.statuses_count.to_f/((Time.now-record.created_at).to_f/86400.0), :graph_id =&gt; sequential_user_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
     20   #&lt;Module:0x1039e5d50&gt;#created_at at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103893bc8&gt;#statuses_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">     10   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     10   #&lt;Module:0x103bd4e18&gt;#followers_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      1   DataMapper::Collection#each at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/collection.rb:507
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run42"><a name="line151"></a>151         when &quot;friends_per_day_avg_statuses_per_day_avg&quot;
</span><span class="run70"><a name="line152"></a>152 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-605'); return false;">          records.collect{|record| csv &lt;&lt; [record.friends_count.to_f/((Time.now-record.created_at).to_f/86400.0), record.statuses_count.to_f/((Time.now-record.created_at).to_f/86400.0)]}</a><span class="cross-ref" id="XREF-605">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.friends_count.to_f/((Time.now-record.created_at).to_f/86400.0), record.statuses_count.to_f/((Time.now-record.created_at).to_f/86400.0)]}</span>
     20   #&lt;Module:0x1039e5d50&gt;#created_at at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103a09d90&gt;#friends_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103893bc8&gt;#statuses_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
      1   DataMapper::Collection#each at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/collection.rb:507
</span>
<a name="line153"></a>153 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-606'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.friends_count.to_f/((Time.now-record.created_at).to_f/86400.0), :value =&gt; record.statuses_count.to_f/((Time.now-record.created_at).to_f/86400.0), :graph_id =&gt; sequential_user_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-606">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.friends_count.to_f/((Time.now-record.created_at).to_f/86400.0), :value =&gt; record.statuses_count.to_f/((Time.now-record.created_at).to_f/86400.0), :graph_id =&gt; sequential_user_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
     20   #&lt;Module:0x1039e5d50&gt;#created_at at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103893bc8&gt;#statuses_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">     10   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     10   #&lt;Module:0x103a09d90&gt;#friends_count at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      1   DataMapper::Collection#each at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/collection.rb:507
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><a name="line154"></a>154         end
<a name="line155"></a>155       end
<span class="run42"><a name="line156"></a>156       offset += limit
<a name="line157"></a>157 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-607'); return false;">      records = User.all(conditional.merge({:limit =&gt; limit, :offset =&gt; offset}))</a><span class="cross-ref" id="XREF-607">
<span class="cross-ref-title">      records = User.all(conditional.merge({:limit =&gt; limit, :offset =&gt; offset}))</span>
      1   DataMapper::Model#all at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:338
</span>
</span><a name="line158"></a>158     end
<span class="run58"><a name="line159"></a>159 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-608'); return false;">    sequential_user_graph_csvs.collect{|csv| csv.close}</a><span class="cross-ref" id="XREF-608">
<span class="cross-ref-title">    sequential_user_graph_csvs.collect{|csv| csv.close}</span>
      9   FasterCSV#close at (__FORWARDABLE__):1
</span>
</span><span class="run42"><a name="line160"></a>160     limit = DEFAULT_CHUNK_SIZE
<a name="line161"></a>161 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-609'); return false;">    curation = Curation.first(:id =&gt; curation_id)</a><span class="cross-ref" id="XREF-609">
<span class="cross-ref-title">    curation = Curation.first(:id =&gt; curation_id)</span>
      1   DataMapper::Model#first at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:364
</span>
<a name="line162"></a>162 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-610'); return false;">    conditional = Analysis.curation_conditional(curation)</a><span class="cross-ref" id="XREF-610">
<span class="cross-ref-title">    conditional = Analysis.curation_conditional(curation)</span>
<a href="analyzer-analysis_rb.html#line60">      1   #&lt;Class:Analysis&gt;#curation_conditional at analyzer/analysis.rb:60</a>
</span>
<a name="line163"></a>163 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-611'); return false;">    FilePathing.tmp_folder(curation, AdvancedHistogram.underscore)</a><span class="cross-ref" id="XREF-611">
<span class="cross-ref-title">    FilePathing.tmp_folder(curation, AdvancedHistogram.underscore)</span>
<a href="model_rb.html#line12">      1   Locking::ClassMethods#underscore at model.rb:12</a>
<a href="analyzer-library_functions-file_pathing_rb.html#line3">      1   #&lt;Class:FilePathing&gt;#tmp_folder at analyzer/library_functions/file_pathing.rb:3</a>
</span>
<a name="line164"></a>164     path=ENV['TMP_PATH']
</span><a name="line165"></a>165     #need to be run on their own
<span class="run42"><a name="line166"></a>166     user_avg_sum_graphs = []
<a name="line167"></a>167 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-612'); return false;">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;location_avg_followers_counts&quot;)</a><span class="cross-ref" id="XREF-612">
<span class="cross-ref-title">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;location_avg_followers_counts&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line168"></a>168 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-613'); return false;">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;location_avg_friends_counts&quot;)</a><span class="cross-ref" id="XREF-613">
<span class="cross-ref-title">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;location_avg_friends_counts&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line169"></a>169 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-614'); return false;">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;location_avg_statuses_counts&quot;)</a><span class="cross-ref" id="XREF-614">
<span class="cross-ref-title">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;location_avg_statuses_counts&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line170"></a>170 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-615'); return false;">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;location_sum_followers_counts&quot;)</a><span class="cross-ref" id="XREF-615">
<span class="cross-ref-title">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;location_sum_followers_counts&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line171"></a>171 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-616'); return false;">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;location_sum_friends_counts&quot;)</a><span class="cross-ref" id="XREF-616">
<span class="cross-ref-title">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;location_sum_friends_counts&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line172"></a>172 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-617'); return false;">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;location_sum_statuses_counts&quot;)</a><span class="cross-ref" id="XREF-617">
<span class="cross-ref-title">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;location_sum_statuses_counts&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line173"></a>173 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-618'); return false;">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;avg_followers_counts_avg_friends_counts&quot;)</a><span class="cross-ref" id="XREF-618">
<span class="cross-ref-title">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;avg_followers_counts_avg_friends_counts&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line174"></a>174 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-619'); return false;">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;avg_followers_counts_avg_statuses_counts&quot;)</a><span class="cross-ref" id="XREF-619">
<span class="cross-ref-title">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;avg_followers_counts_avg_statuses_counts&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line175"></a>175 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-620'); return false;">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;avg_friends_counts_avg_statuses_counts&quot;)</a><span class="cross-ref" id="XREF-620">
<span class="cross-ref-title">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;avg_friends_counts_avg_statuses_counts&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line176"></a>176 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-621'); return false;">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;sum_followers_counts_sum_friends_counts&quot;)</a><span class="cross-ref" id="XREF-621">
<span class="cross-ref-title">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;sum_followers_counts_sum_friends_counts&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line177"></a>177 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-622'); return false;">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;sum_followers_counts_sum_statuses_counts&quot;)</a><span class="cross-ref" id="XREF-622">
<span class="cross-ref-title">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;sum_followers_counts_sum_statuses_counts&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
<a name="line178"></a>178 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-623'); return false;">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;sum_friends_counts_sum_statuses_counts&quot;)</a><span class="cross-ref" id="XREF-623">
<span class="cross-ref-title">    user_avg_sum_graphs &lt;&lt; Graph.first_or_create(:curation_id =&gt; curation_id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :style =&gt; &quot;histogram&quot;, :title =&gt; &quot;sum_friends_counts_sum_statuses_counts&quot;)</span>
      1   DataMapper::Model#first_or_create at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model.rb:445
      1   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="models-analysis_metadata_rb.html#line195">      1   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
</span>
</span><span class="run60"><a name="line179"></a>179 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-624'); return false;">    user_avg_sum_graph_csvs = user_avg_sum_graphs.collect{|graph| FasterCSV.open(path+&quot;/&quot;+graph.title+&quot;.csv&quot;, &quot;w&quot;)}</a><span class="cross-ref" id="XREF-624">
<span class="cross-ref-title">    user_avg_sum_graph_csvs = user_avg_sum_graphs.collect{|graph| FasterCSV.open(path+&quot;/&quot;+graph.title+&quot;.csv&quot;, &quot;w&quot;)}</span>
     12   #&lt;Module:0x103d5f828&gt;#title at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     12   #&lt;Class:FasterCSV&gt;#open at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1211
</span>
</span><span class="run42"><a name="line180"></a>180 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-625'); return false;">    AdvancedHistogram.initialize_graphs(user_avg_sum_graphs, user_avg_sum_graph_csvs)</a><span class="cross-ref" id="XREF-625">
<span class="cross-ref-title">    AdvancedHistogram.initialize_graphs(user_avg_sum_graphs, user_avg_sum_graph_csvs)</span>
<a href="analyzer-tools-advanced_histogram_rb.html#line234">      1   #&lt;Class:AdvancedHistogram&gt;#initialize_graphs at analyzer/tools/advanced_histogram.rb:234</a>
</span>
</span><span class="run50"><a name="line181"></a>181     location_grouped_user_query = lambda{|limit, offset| &quot;select avg(followers_count) as avg_followers_count,avg(friends_count) as avg_friends_count,avg(statuses_count) as avg_statuses_count,sum(followers_count) as sum_followers_count,sum(friends_count) as sum_friends_count,sum(statuses_count) as sum_statuses_count,location from users group by location limit #{limit} offset #{offset}&quot;}
</span><span class="run42"><a name="line182"></a>182     offset = 0
<a name="line183"></a>183 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-626'); return false;">    records = DataMapper.repository.adapter.select(location_grouped_user_query.call(limit, offset))</a><span class="cross-ref" id="XREF-626">
<span class="cross-ref-title">    records = DataMapper.repository.adapter.select(location_grouped_user_query.call(limit, offset))</span>
      1   DataMapper::Repository#adapter at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/repository.rb:64
      1   DataMapper::Adapters::DataObjectsAdapter#select at /Library/Ruby/Gems/1.8/gems/dm-do-adapter-1.0.2/lib/dm-do-adapter/adapter.rb:32
      1   #&lt;Class:DataMapper&gt;#repository at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core.rb:285
</span>
<a name="line184"></a>184     while !records.empty?
<a name="line185"></a>185       user_avg_sum_graphs.each do |user_avg_sum_graph|
</span><span class="run60"><a name="line186"></a>186 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-627'); return false;">        csv = user_avg_sum_graph_csvs[user_avg_sum_graphs.index(user_avg_sum_graph)]</a><span class="cross-ref" id="XREF-627">
<span class="cross-ref-title">        csv = user_avg_sum_graph_csvs[user_avg_sum_graphs.index(user_avg_sum_graph)]</span>
     66   DataMapper::Resource#== at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/resource.rb:493
</span>
<a name="line187"></a>187 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-628'); return false;">        case user_avg_sum_graph.title</a><span class="cross-ref" id="XREF-628">
<span class="cross-ref-title">        case user_avg_sum_graph.title</span>
     12   #&lt;Module:0x103d5f828&gt;#title at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
</span>
<a name="line188"></a>188         when &quot;location_avg_followers_counts&quot;
</span><span class="run59"><a name="line189"></a>189 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-629'); return false;">          records.collect{|record| csv &lt;&lt; [record.location, record.avg_followers_count]}</a><span class="cross-ref" id="XREF-629">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.location, record.avg_followers_count]}</span>
     10   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line190"></a>190 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-630'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.location, :value =&gt; record.avg_followers_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-630">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.location, :value =&gt; record.avg_followers_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     10   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     10   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
<a name="line191"></a>191         when &quot;location_avg_friends_counts&quot;
<a name="line192"></a>192 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-631'); return false;">          records.collect{|record| csv &lt;&lt; [record.location, record.avg_friends_count]}</a><span class="cross-ref" id="XREF-631">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.location, record.avg_friends_count]}</span>
     10   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line193"></a>193 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-632'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.location, :value =&gt; record.avg_friends_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-632">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.location, :value =&gt; record.avg_friends_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     10   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     10   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run58"><a name="line194"></a>194         when &quot;location_avg_statuses_counts&quot;
</span><span class="run59"><a name="line195"></a>195 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-633'); return false;">          records.collect{|record| csv &lt;&lt; [record.location, record.avg_statuses_count]}</a><span class="cross-ref" id="XREF-633">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.location, record.avg_statuses_count]}</span>
     10   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line196"></a>196 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-634'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.location, :value =&gt; record.avg_statuses_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-634">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.location, :value =&gt; record.avg_statuses_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     10   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     10   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run57"><a name="line197"></a>197         when &quot;location_sum_followers_counts&quot;
</span><span class="run59"><a name="line198"></a>198 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-635'); return false;">          records.collect{|record| csv &lt;&lt; [record.location, record.sum_followers_count]}</a><span class="cross-ref" id="XREF-635">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.location, record.sum_followers_count]}</span>
     10   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line199"></a>199 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-636'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.location, :value =&gt; record.sum_followers_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-636">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.location, :value =&gt; record.sum_followers_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     10   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     10   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run57"><a name="line200"></a>200         when &quot;location_sum_friends_counts&quot;
</span><span class="run59"><a name="line201"></a>201 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-637'); return false;">          records.collect{|record| csv &lt;&lt; [record.location, record.sum_friends_count]}</a><span class="cross-ref" id="XREF-637">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.location, record.sum_friends_count]}</span>
     10   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line202"></a>202 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-638'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.location, :value =&gt; record.sum_followers_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-638">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.location, :value =&gt; record.sum_followers_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     10   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     10   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run56"><a name="line203"></a>203         when &quot;location_sum_statuses_counts&quot;
</span><span class="run59"><a name="line204"></a>204 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-639'); return false;">          records.collect{|record| csv &lt;&lt; [record.location, record.sum_statuses_count]}</a><span class="cross-ref" id="XREF-639">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.location, record.sum_statuses_count]}</span>
     10   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line205"></a>205 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-640'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.location, :value =&gt; record.sum_statuses_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-640">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.location, :value =&gt; record.sum_statuses_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     10   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     10   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run55"><a name="line206"></a>206         when &quot;avg_followers_counts_avg_friends_counts&quot;
</span><span class="run59"><a name="line207"></a>207 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-641'); return false;">          records.collect{|record| csv &lt;&lt; [record.avg_followers_count, record.avg_friends_count]}</a><span class="cross-ref" id="XREF-641">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.avg_followers_count, record.avg_friends_count]}</span>
     10   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line208"></a>208 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-642'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.avg_followers_count, :value =&gt; record.avg_friends_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-642">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.avg_followers_count, :value =&gt; record.avg_friends_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     10   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     10   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run53"><a name="line209"></a>209         when &quot;avg_followers_counts_avg_statuses_counts&quot;
</span><span class="run59"><a name="line210"></a>210 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-643'); return false;">          records.collect{|record| csv &lt;&lt; [record.avg_followers_count, record.avg_statuses_count]}</a><span class="cross-ref" id="XREF-643">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.avg_followers_count, record.avg_statuses_count]}</span>
     10   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line211"></a>211 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-644'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.avg_followers_count, :value =&gt; record.avg_statuses_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-644">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.avg_followers_count, :value =&gt; record.avg_statuses_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     10   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     10   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run52"><a name="line212"></a>212         when &quot;avg_friends_counts_avg_statuses_counts&quot;
</span><span class="run59"><a name="line213"></a>213 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-645'); return false;">          records.collect{|record| csv &lt;&lt; [record.avg_friends_count, record.avg_statuses_count]}</a><span class="cross-ref" id="XREF-645">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.avg_friends_count, record.avg_statuses_count]}</span>
     10   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line214"></a>214 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-646'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.avg_friends_count, :value =&gt; record.avg_statuses_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-646">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.avg_friends_count, :value =&gt; record.avg_statuses_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     10   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     10   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run50"><a name="line215"></a>215         when &quot;sum_followers_counts_sum_friends_counts&quot;
</span><span class="run59"><a name="line216"></a>216 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-647'); return false;">          records.collect{|record| csv &lt;&lt; [record.sum_followers_count, record.sum_friends_count]}</a><span class="cross-ref" id="XREF-647">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.sum_followers_count, record.sum_friends_count]}</span>
     10   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line217"></a>217 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-648'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.sum_followers_count, :value =&gt; record.sum_friends_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-648">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.sum_followers_count, :value =&gt; record.sum_friends_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     10   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     10   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run47"><a name="line218"></a>218         when &quot;sum_followers_counts_sum_statuses_counts&quot;
</span><span class="run59"><a name="line219"></a>219 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-649'); return false;">          records.collect{|record| csv &lt;&lt; [record.sum_followers_count, record.sum_statuses_count]}</a><span class="cross-ref" id="XREF-649">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.sum_followers_count, record.sum_statuses_count]}</span>
     10   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line220"></a>220 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-650'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.sum_followers_count, :value =&gt; record.sum_statuses_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-650">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.sum_followers_count, :value =&gt; record.sum_statuses_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     10   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     10   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><span class="run42"><a name="line221"></a>221         when &quot;sum_friends_counts_sum_statuses_counts&quot;
</span><span class="run59"><a name="line222"></a>222 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-651'); return false;">          records.collect{|record| csv &lt;&lt; [record.sum_friends_count, record.sum_statuses_count]}</a><span class="cross-ref" id="XREF-651">
<span class="cross-ref-title">          records.collect{|record| csv &lt;&lt; [record.sum_friends_count, record.sum_statuses_count]}</span>
     10   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line223"></a>223 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-652'); return false;">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.sum_friends_count, :value =&gt; record.sum_statuses_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</a><span class="cross-ref" id="XREF-652">
<span class="cross-ref-title">          GraphPoint.save_all(records.collect{|record| {:label =&gt; record.sum_friends_count, :value =&gt; record.sum_statuses_count, :graph_id =&gt; user_avg_sum_graph.id, :analysis_metadata_id =&gt; AdvancedHistogram.analysis_metadata(curation).id, :curation_id =&gt; curation_id}})</span>
<a href="models-analysis_metadata_rb.html#line195">     10   #&lt;Class:AnalysisMetadata&gt;#analysis_metadata at models/analysis_metadata.rb:195</a>
     10   #&lt;Module:0x10399c100&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
     10   #&lt;Module:0x103d99230&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
<a href="extensions-dm-extensions_rb.html#line10">      1   DataMapperExtensions#save_all at extensions/dm-extensions.rb:10</a>
</span>
</span><a name="line224"></a>224         end
<a name="line225"></a>225       end
<span class="run42"><a name="line226"></a>226       offset += limit
<a name="line227"></a>227 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-653'); return false;">      records = DataMapper.repository.adapter.select(location_grouped_user_query.call(limit, offset))</a><span class="cross-ref" id="XREF-653">
<span class="cross-ref-title">      records = DataMapper.repository.adapter.select(location_grouped_user_query.call(limit, offset))</span>
      1   DataMapper::Repository#adapter at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/repository.rb:64
      1   DataMapper::Adapters::DataObjectsAdapter#select at /Library/Ruby/Gems/1.8/gems/dm-do-adapter-1.0.2/lib/dm-do-adapter/adapter.rb:32
      1   #&lt;Class:DataMapper&gt;#repository at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core.rb:285
</span>
</span><a name="line228"></a>228     end
<span class="run60"><a name="line229"></a>229 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-654'); return false;">    user_avg_sum_graph_csvs.collect{|csv| csv.close}</a><span class="cross-ref" id="XREF-654">
<span class="cross-ref-title">    user_avg_sum_graph_csvs.collect{|csv| csv.close}</span>
     12   FasterCSV#close at (__FORWARDABLE__):1
</span>
</span><span class="run42"><a name="line230"></a>230 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-655'); return false;">    AdvancedHistogram.push_tmp_folder(curation.stored_folder_name)</a><span class="cross-ref" id="XREF-655">
<span class="cross-ref-title">    AdvancedHistogram.push_tmp_folder(curation.stored_folder_name)</span>
<a href="models-curation_rb.html#line21">      1   Curation#stored_folder_name at models/curation.rb:21</a>
<a href="models-analysis_metadata_rb.html#line214">      1   #&lt;Class:AnalysisMetadata&gt;#push_tmp_folder at models/analysis_metadata.rb:214</a>
</span>
</span><span class="run47"><a name="line231"></a>231 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-656'); return false;">    AdvancedHistogram.finalize(curation)</a><span class="cross-ref" id="XREF-656">
<span class="cross-ref-title">    AdvancedHistogram.finalize(curation)</span>
<a href="models-analysis_metadata_rb.html#line222">      1   #&lt;Class:AnalysisMetadata&gt;#finalize at models/analysis_metadata.rb:222</a>
</span>
</span><a name="line232"></a>232   end
<a name="line233"></a>233   
<span class="run52"><a name="line234"></a>234 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-657'); return false;">  def self.initialize_graphs(graphs, csvs)</a><span class="cross-ref" id="XREF-657">
<span class="cross-ref-title">  def self.initialize_graphs(graphs, csvs)</span>
      1   #&lt;Class:AnalysisMetadata&gt;#singleton_method_added at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/support/hook.rb:53
<span class="cross-ref-title">  def self.initialize_graphs(graphs, csvs)</span>
<a href="analyzer-tools-advanced_histogram_rb.html#line180">      1   analyzer/tools/advanced_histogram.rb:180 in '#&lt;Class:AdvancedHistogram&gt;#run'</a>
<a href="analyzer-tools-advanced_histogram_rb.html#line119">      1   analyzer/tools/advanced_histogram.rb:119 in '#&lt;Class:AdvancedHistogram&gt;#run'</a>
<a href="analyzer-tools-advanced_histogram_rb.html#line23">      1   analyzer/tools/advanced_histogram.rb:23 in '#&lt;Class:AdvancedHistogram&gt;#run'</a>
</span>
</span><span class="run55"><a name="line235"></a>235     graphs.each do |graph|
</span><span class="run66"><a name="line236"></a>236 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-658'); return false;">      csv = csvs[graphs.index(graph)]</a><span class="cross-ref" id="XREF-658">
<span class="cross-ref-title">      csv = csvs[graphs.index(graph)]</span>
    130   DataMapper::Resource#== at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/resource.rb:493
</span>
<a name="line237"></a>237 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-659'); return false;">      case graph.title</a><span class="cross-ref" id="XREF-659">
<span class="cross-ref-title">      case graph.title</span>
     29   #&lt;Module:0x103d5f828&gt;#title at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
</span>
<a name="line238"></a>238       when &quot;hashtag_count_retweet_count&quot;
</span><span class="run42"><a name="line239"></a>239 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-660'); return false;">        csv &lt;&lt; [&quot;hashtag_count&quot;, &quot;retweet_count&quot;]</a><span class="cross-ref" id="XREF-660">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;hashtag_count&quot;, &quot;retweet_count&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run66"><a name="line240"></a>240       when &quot;link_count_retweet_count&quot;
</span><span class="run42"><a name="line241"></a>241 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-661'); return false;">        csv &lt;&lt; [&quot;link_count&quot;, &quot;retweet_count&quot;]</a><span class="cross-ref" id="XREF-661">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;link_count&quot;, &quot;retweet_count&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run65"><a name="line242"></a>242       when &quot;mention_count_retweet_count&quot;
</span><span class="run42"><a name="line243"></a>243 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-662'); return false;">        csv &lt;&lt; [&quot;mention_count&quot;, &quot;retweet_count&quot;]</a><span class="cross-ref" id="XREF-662">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;mention_count&quot;, &quot;retweet_count&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run65"><a name="line244"></a>244       when &quot;entity_count_retweet_count&quot;
</span><span class="run42"><a name="line245"></a>245 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-663'); return false;">        csv &lt;&lt; [&quot;entity_count&quot;, &quot;retweet_count&quot;]</a><span class="cross-ref" id="XREF-663">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;entity_count&quot;, &quot;retweet_count&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run65"><a name="line246"></a>246       when &quot;source_retweet_counts&quot;
</span><span class="run42"><a name="line247"></a>247 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-664'); return false;">        csv &lt;&lt; [&quot;source&quot;, &quot;retweet_count&quot;]</a><span class="cross-ref" id="XREF-664">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;source&quot;, &quot;retweet_count&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run65"><a name="line248"></a>248       when &quot;source_link_count&quot;
</span><span class="run42"><a name="line249"></a>249 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-665'); return false;">        csv &lt;&lt; [&quot;source&quot;, &quot;link_count&quot;]</a><span class="cross-ref" id="XREF-665">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;source&quot;, &quot;link_count&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run64"><a name="line250"></a>250       when &quot;source_mention_count&quot;
</span><span class="run42"><a name="line251"></a>251 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-666'); return false;">        csv &lt;&lt; [&quot;source, &quot;&quot;mention_count&quot;]</a><span class="cross-ref" id="XREF-666">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;source, &quot;&quot;mention_count&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run64"><a name="line252"></a>252       when &quot;source_entity_count&quot;
</span><span class="run42"><a name="line253"></a>253 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-667'); return false;">        csv &lt;&lt; [&quot;source&quot;, &quot;entity_count&quot;]</a><span class="cross-ref" id="XREF-667">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;source&quot;, &quot;entity_count&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run64"><a name="line254"></a>254       when &quot;location_avg_followers_counts&quot;
</span><span class="run42"><a name="line255"></a>255 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-668'); return false;">        csv &lt;&lt; [&quot;location&quot;, &quot;avg_followers_count&quot;]</a><span class="cross-ref" id="XREF-668">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;location&quot;, &quot;avg_followers_count&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run63"><a name="line256"></a>256       when &quot;location_avg_friends_counts&quot;
</span><span class="run42"><a name="line257"></a>257 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-669'); return false;">        csv &lt;&lt; [&quot;location&quot;, &quot;avg_friends_count&quot;]</a><span class="cross-ref" id="XREF-669">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;location&quot;, &quot;avg_friends_count&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run63"><a name="line258"></a>258       when &quot;location_avg_statuses_counts&quot;
</span><span class="run42"><a name="line259"></a>259 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-670'); return false;">        csv &lt;&lt; [&quot;location&quot;, &quot;avg_statuses_count&quot;]</a><span class="cross-ref" id="XREF-670">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;location&quot;, &quot;avg_statuses_count&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run62"><a name="line260"></a>260       when &quot;location_sum_followers_counts&quot;
</span><span class="run42"><a name="line261"></a>261 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-671'); return false;">        csv &lt;&lt; [&quot;location&quot;, &quot;sum_followers_count&quot;]</a><span class="cross-ref" id="XREF-671">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;location&quot;, &quot;sum_followers_count&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run62"><a name="line262"></a>262       when &quot;location_sum_friends_counts&quot;
</span><span class="run42"><a name="line263"></a>263 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-672'); return false;">        csv &lt;&lt; [&quot;location&quot;, &quot;sum_friends_count&quot;]</a><span class="cross-ref" id="XREF-672">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;location&quot;, &quot;sum_friends_count&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run62"><a name="line264"></a>264       when &quot;location_sum_statuses_counts&quot;
</span><span class="run42"><a name="line265"></a>265 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-673'); return false;">        csv &lt;&lt; [&quot;location&quot;, &quot;sum_statuses_count&quot;]</a><span class="cross-ref" id="XREF-673">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;location&quot;, &quot;sum_statuses_count&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run61"><a name="line266"></a>266       when &quot;followers_count_friends_count&quot;
</span><span class="run42"><a name="line267"></a>267 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-674'); return false;">        csv &lt;&lt; [&quot;followers_count&quot;, &quot;friends_count&quot;]</a><span class="cross-ref" id="XREF-674">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;followers_count&quot;, &quot;friends_count&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run61"><a name="line268"></a>268       when &quot;followers_count_statuses_count&quot;
</span><span class="run42"><a name="line269"></a>269 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-675'); return false;">        csv &lt;&lt; [&quot;followers_count&quot;, &quot;statuses_count&quot;]</a><span class="cross-ref" id="XREF-675">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;followers_count&quot;, &quot;statuses_count&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run60"><a name="line270"></a>270       when &quot;friends_count_statuses_count&quot;
</span><span class="run42"><a name="line271"></a>271 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-676'); return false;">        csv &lt;&lt; [&quot;friends_count&quot;, &quot;statuses_count&quot;]</a><span class="cross-ref" id="XREF-676">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;friends_count&quot;, &quot;statuses_count&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run60"><a name="line272"></a>272       when &quot;followers_per_day&quot;
</span><span class="run42"><a name="line273"></a>273 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-677'); return false;">        csv &lt;&lt; [&quot;twitter_id&quot;, &quot;followers_per_day&quot;]</a><span class="cross-ref" id="XREF-677">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;twitter_id&quot;, &quot;followers_per_day&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run59"><a name="line274"></a>274       when &quot;friends_per_day&quot;
</span><span class="run42"><a name="line275"></a>275 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-678'); return false;">        csv &lt;&lt; [&quot;twitter_id&quot;, &quot;friends_per_day&quot;]</a><span class="cross-ref" id="XREF-678">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;twitter_id&quot;, &quot;friends_per_day&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run58"><a name="line276"></a>276       when &quot;statuses_per_day&quot;
</span><span class="run42"><a name="line277"></a>277 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-679'); return false;">        csv &lt;&lt; [&quot;twitter_id&quot;, &quot;statuses_per_day&quot;]</a><span class="cross-ref" id="XREF-679">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;twitter_id&quot;, &quot;statuses_per_day&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run57"><a name="line278"></a>278       when &quot;followers_per_day_avg_friends_per_day_avg&quot;
</span><span class="run42"><a name="line279"></a>279 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-680'); return false;">        csv &lt;&lt; [&quot;followers_per_day&quot;, &quot;friends_per_day&quot;]</a><span class="cross-ref" id="XREF-680">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;followers_per_day&quot;, &quot;friends_per_day&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run57"><a name="line280"></a>280       when &quot;followers_per_day_avg_statuses_per_day_avg&quot;
</span><span class="run42"><a name="line281"></a>281 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-681'); return false;">        csv &lt;&lt; [&quot;followers_per_day&quot;, &quot;statuses_per_day&quot;]</a><span class="cross-ref" id="XREF-681">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;followers_per_day&quot;, &quot;statuses_per_day&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run56"><a name="line282"></a>282       when &quot;friends_per_day_avg_statuses_per_day_avg&quot;
</span><span class="run42"><a name="line283"></a>283 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-682'); return false;">        csv &lt;&lt; [&quot;friends_per_day&quot;, &quot;statuses_per_day&quot;]        </a><span class="cross-ref" id="XREF-682">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;friends_per_day&quot;, &quot;statuses_per_day&quot;]        </span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run55"><a name="line284"></a>284       when &quot;avg_followers_counts_avg_friends_counts&quot;
</span><span class="run42"><a name="line285"></a>285 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-683'); return false;">        csv &lt;&lt; [&quot;avg_followers_counts&quot;, &quot;avg_friends_counts&quot;]</a><span class="cross-ref" id="XREF-683">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;avg_followers_counts&quot;, &quot;avg_friends_counts&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run53"><a name="line286"></a>286       when &quot;avg_followers_counts_avg_statuses_counts&quot;
</span><span class="run42"><a name="line287"></a>287 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-684'); return false;">        csv &lt;&lt; [&quot;avg_followers_counts&quot;, &quot;avg_statuses_counts&quot;]</a><span class="cross-ref" id="XREF-684">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;avg_followers_counts&quot;, &quot;avg_statuses_counts&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run52"><a name="line288"></a>288       when &quot;avg_friends_counts_avg_statuses_counts&quot;
</span><span class="run42"><a name="line289"></a>289 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-685'); return false;">        csv &lt;&lt; [&quot;avg_friends_counts&quot;, &quot;avg_statuses_counts&quot;]</a><span class="cross-ref" id="XREF-685">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;avg_friends_counts&quot;, &quot;avg_statuses_counts&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run50"><a name="line290"></a>290       when &quot;sum_followers_counts_sum_friends_counts&quot;
</span><span class="run42"><a name="line291"></a>291 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-686'); return false;">        csv &lt;&lt; [&quot;sum_followers_counts&quot;, &quot;sum_friends_counts&quot;]</a><span class="cross-ref" id="XREF-686">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;sum_followers_counts&quot;, &quot;sum_friends_counts&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><span class="run47"><a name="line292"></a>292       when &quot;sum_followers_counts_sum_statuses_counts&quot;
</span><span class="run42"><a name="line293"></a>293 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-687'); return false;">        csv &lt;&lt; [&quot;sum_followers_counts&quot;, &quot;sum_statuses_counts&quot;]</a><span class="cross-ref" id="XREF-687">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;sum_followers_counts&quot;, &quot;sum_statuses_counts&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
<a name="line294"></a>294       when &quot;sum_friends_counts_sum_statuses_counts&quot;
<a name="line295"></a>295 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-688'); return false;">        csv &lt;&lt; [&quot;sum_friends_counts&quot;, &quot;sum_statuses_counts&quot;]</a><span class="cross-ref" id="XREF-688">
<span class="cross-ref-title">        csv &lt;&lt; [&quot;sum_friends_counts&quot;, &quot;sum_statuses_counts&quot;]</span>
      1   FasterCSV#&lt;&lt; at /Library/Ruby/Gems/1.8/gems/fastercsv-1.5.4/lib/faster_csv.rb:1473
</span>
</span><a name="line296"></a>296       end
<a name="line297"></a>297     end
<a name="line298"></a>298   end
<span class="run52"><a name="line299"></a>299 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-689'); return false;">  def self.finalize_analysis(curation)</a><span class="cross-ref" id="XREF-689">
<span class="cross-ref-title">  def self.finalize_analysis(curation)</span>
      1   #&lt;Class:AnalysisMetadata&gt;#singleton_method_added at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/support/hook.rb:53
<span class="cross-ref-title">  def self.finalize_analysis(curation)</span>
<a href="models-analysis_metadata_rb.html#line223">      2   models/analysis_metadata.rb:223 in '#&lt;Class:AnalysisMetadata&gt;#finalize'</a>
      1   spec/unit/models/analysis_metadata_spec.rb:147 in '#'
</span>
</span><span class="run50"><a name="line300"></a>300     response = {}
<a name="line301"></a>301 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-690'); return false;">    response[:recipient] = curation.researcher.email</a><span class="cross-ref" id="XREF-690">
<span class="cross-ref-title">    response[:recipient] = curation.researcher.email</span>
      3   #&lt;Module:0x103b8e148&gt;#email at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      3   #&lt;Module:0x103a24e10&gt;#researcher at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/relationship.rb:330
</span>
<a name="line302"></a>302 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-691'); return false;">    response[:subject] = &quot;#{curation.researcher.user_name}, the raw Graph data for the basic histograms in the \&quot;#{curation.name}\&quot; data set is complete.&quot;</a><span class="cross-ref" id="XREF-691">
<span class="cross-ref-title">    response[:subject] = &quot;#{curation.researcher.user_name}, the raw Graph data for the basic histograms in the \&quot;#{curation.name}\&quot; data set is complete.&quot;</span>
      3   #&lt;Module:0x103be39b8&gt;#user_name at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      3   #&lt;Module:0x103bca940&gt;#name at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      3   #&lt;Module:0x103a24e10&gt;#researcher at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/relationship.rb:330
</span>
<a name="line303"></a>303 <a class="crossref-toggle" href="#" onclick="toggleCode('XREF-692'); return false;">    response[:message_content] = &quot;Your CSV files are ready for download. You can grab them by visiting the collection's page: &lt;a href=\&quot;http://140kit.com/#{curation.researcher.user_name}/collections/#{curation.id}\&quot;&gt;http://140kit.com/#{curation.researcher.user_name}/collections/#{curation.id}&lt;/a&gt;.&quot;</a><span class="cross-ref" id="XREF-692">
<span class="cross-ref-title">    response[:message_content] = &quot;Your CSV files are ready for download. You can grab them by visiting the collection's page: &lt;a href=\&quot;http://140kit.com/#{curation.researcher.user_name}/collections/#{curation.id}\&quot;&gt;http://140kit.com/#{curation.researcher.user_name}/collections/#{curation.id}&lt;/a&gt;.&quot;</span>
      6   #&lt;Module:0x103be9750&gt;#id at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      6   #&lt;Module:0x103be39b8&gt;#user_name at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/property.rb:215
      6   #&lt;Module:0x103a24e10&gt;#researcher at /Library/Ruby/Gems/1.8/gems/dm-core-1.0.2/lib/dm-core/model/relationship.rb:330
</span>
</span><span class="run55"><a name="line304"></a>304     return response
</span><a name="line305"></a>305   end
<a name="line306"></a>306 end
</pre><hr/>
    <p>Generated using the <a href='http://eigenclass.org/hiki.rb?rcov'>rcov code coverage analysis tool for Ruby</a>
   version 0.8.2.1.</p>
<p><a href='http://validator.w3.org/check/referer'><img src='http://www.w3.org/Icons/valid-xhtml10' height='31' alt='Valid XHTML 1.0!' width='88'/>
        </a>
      <a href='http://jigsaw.w3.org/css-validator/check/referer'><img src='http://jigsaw.w3.org/css-validator/images/vcss' alt='Valid CSS!' style='border:0;width:88px;height:31px'/>
        </a>
      </p>
    </body>
  </html>
